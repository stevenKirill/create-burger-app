(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[0],{14:function(e,t,r){e.exports={toolbar:"toolbar_toolbar__3Aq1b",toolbarWrapper:"toolbar_toolbarWrapper__3uDnS",logo:"toolbar_logo__3v2a3",menu:"toolbar_menu__1a8Hm",item:"toolbar_item__2qEpq",navLinkDefault:"toolbar_navLinkDefault__3ECg5",navlink:"toolbar_navlink__3aJ6k"}},16:function(e,t,r){e.exports={forma:"contactData_forma__Js0p9",inputContainer:"contactData_inputContainer__19CYd",label:"contactData_label__oI2O-",wrapper:"contactData_wrapper__octbb",marginTop:"contactData_marginTop__3rswB",loaderContainer:"contactData_loaderContainer__Pp8SY",buttonContainer:"contactData_buttonContainer__2uXZR",errorsContainer:"contactData_errorsContainer__2JUe0",error:"contactData_error__1sE6h"}},18:function(e,t,r){e.exports={meat:"burgerIngridient_meat__17Zch",cheese:"burgerIngridient_cheese__1kEQf",salad:"burgerIngridient_salad__UGKS3",breadTop:"burgerIngridient_breadTop__22PMg",breadBottom:"burgerIngridient_breadBottom__cUIEN",bacon:"burgerIngridient_bacon__2W9uu",seeds:"burgerIngridient_seeds__1aV3M"}},19:function(e,t,r){e.exports={startAdding:"burger_startAdding__Iw9qB",burger:"burger_burger__3QtKq",maxBurgerHeight:"burger_maxBurgerHeight__2SBWG",scrollable:"burger_scrollable__2imkz"}},20:function(e,t,r){e.exports={wrapper:"modal_wrapper__2Ttyz",modal:"modal_modal__37rnT",header:"modal_header__r1syr",body:"modal_body__13Li8",footer:"modal_footer__3CUks",list:"modal_list__U2Hkb",item:"modal_item__3ZYGL"}},26:function(e,t,r){e.exports={controlsWrapper:"burgerBuilder_controlsWrapper__yVSN5",currentPrice:"burgerBuilder_currentPrice__16cqi",controlsWrapperInner:"burgerBuilder_controlsWrapperInner__vwOih",message:"burgerBuilder_message__2K74r"}},27:function(e,t,r){e.exports={singleInput:"input_singleInput__2vOWE",checkbox:"input_checkbox__1cOen",select:"input_select__16sEe"}},30:function(e,t,r){e.exports={controlWrapper:"controls_controlWrapper__1IX4Y",label:"controls_label__2QlGp",add:"controls_add__yXXHU",remove:"controls_remove__Hg1FP"}},31:function(e,t,r){e.exports={error:"auth_error__3WEUX",container:"auth_container__ihKbm",title:"auth_title__1begJ",loginError:"auth_loginError__1sZoT"}},33:function(e,t,r){e.exports={header:"Checkout_header__3d-CO",buttons:"Checkout_buttons__3Q92m",empty:"Checkout_empty__1r0FW"}},36:function(e,t,r){e.exports={cancel:"Button_cancel__1nmRg",continue:"Button_continue__1EqS6",center:"Button_center__1Y4Lo","mt-10":"Button_mt-10__1Bu3W"}},49:function(e,t,r){e.exports={total:"totalOrder_total__mpn2E"}},52:function(e,t,r){e.exports={myLoader:"loader_myLoader__xy3Qn"}},53:function(e,t,r){e.exports={error:"errors_error__2X9JX"}},59:function(e,t,r){},84:function(e,t,r){},85:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(48),s=r.n(c),i=(r(59),r(54)),o=r(2),l=r(22),d=r(3),u=r(4),b=r(6),j=r(5),h=r(19),p=r.n(h),m=r(18),O=r.n(m),g=r(0),f=function(e){Object(b.a)(r,e);var t=Object(j.a)(r);function r(e){return Object(d.a)(this,r),t.call(this,e)}return Object(u.a)(r,[{key:"render",value:function(){var e=null;switch(this.props.ingridientType){case"meat":e=Object(g.jsx)("div",{className:O.a.meat});break;case"cheese":e=Object(g.jsx)("div",{className:O.a.cheese});break;case"salad":e=Object(g.jsx)("div",{className:O.a.salad});break;case"bread-top":for(var t=[],r=[5,10,17,22,26,29],a=[20,50,100,150,200,250,337,385,428],n=0;n<10;n++){var c=Object(g.jsx)("div",{className:O.a.seeds,style:{top:"".concat(r[Math.floor(Math.random()*r.length)],"px"),left:"".concat(a[Math.floor(Math.random()*a.length)],"px")}});t.push(c)}e=Object(g.jsx)("div",{className:O.a.breadTop,children:Object(g.jsx)("div",{className:O.a.seeds,children:t})});break;case"bread-bottom":e=Object(g.jsx)("div",{className:O.a.breadBottom});break;case"bacon":e=Object(g.jsx)("div",{className:O.a.bacon})}return e}}]),r}(a.Component),v=function(e){Object(b.a)(r,e);var t=Object(j.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).ref=n.a.createRef(),a}return Object(u.a)(r,[{key:"componentDidUpdate",value:function(){this.props.calculateScroll?null!==this.ref.current&&(this.ref.current.offsetHeight>270?this.ref.current.classList.add(p.a.scrollable):this.ref.current.classList.contains(p.a.scrollable)&&this.ref.current.classList.remove(p.a.scrollable)):this.ref.current.classList.remove(p.a.maxBurgerHeight)}},{key:"render",value:function(){var e=this.props.ingridients,t=null;t=e.every((function(e){return 0===e.quantity}))?Object(g.jsx)("p",{className:p.a.startAdding,children:"Start adding ingridients!"}):e.map((function(e){if(0!==e.quantity){for(var t=[],r=0;r<e.quantity;r++)t.push(Object(g.jsx)(f,{ingridientType:e.name}));return t}})).reduce((function(e,t){return e.concat(t)}),[]);var r=[p.a.burger,p.a.maxBurgerHeight].join(" ");return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:r,ref:this.ref,children:[Object(g.jsx)(f,{ingridientType:"bread-top"}),t,Object(g.jsx)(f,{ingridientType:"bread-bottom"})]})})}}]),r}(a.Component),_=r(30),x=r.n(_);var y=function(e){var t=e.add,r=e.remove;return e.ingridients.map((function(e,a){return Object(g.jsxs)("div",{"data-name":e.name,className:x.a.controlWrapper,children:[Object(g.jsx)("span",{className:x.a.label,children:e.name}),Object(g.jsx)("button",{className:x.a.add,onClick:t,disabled:e.disabledAdd,children:"Add"}),Object(g.jsx)("button",{className:x.a.remove,onClick:r,disabled:e.disabledRemove,children:"Remove"})]},a)}))},N=r(49),k=r.n(N),C=function(e){Object(b.a)(r,e);var t=Object(j.a)(r);function r(e){return Object(d.a)(this,r),t.call(this,e)}return Object(u.a)(r,[{key:"render",value:function(){return Object(g.jsx)("button",{className:k.a.total,onClick:this.props.open,children:"ORDER NOW"})}}]),r}(a.Component),S=r(25),I=r(24),D=r(7),w=r(36),E=r.n(w),P=function(e){return Object(g.jsx)("button",{className:function(){var t="",r=e.styles;if(Array.isArray(r)){var a,n=Object(S.a)(r);try{for(n.s();!(a=n.n()).done;){var c=a.value;t+="".concat(E.a[c]," ")}}catch(s){n.e(s)}finally{n.f()}}else t=E.a[e.styles];return t}(),onClick:e.click,children:e.label})},T=r(20),A=r.n(T),B=function(e){Object(b.a)(r,e);var t=Object(j.a)(r);function r(e){var a,c,s;return Object(d.a)(this,r),(a=t.call(this,e)).continue=(c=a.continue,s=Object(I.a)(a),function(e){c.call(s,e)}),a.ref=n.a.createRef(),a}return Object(u.a)(r,[{key:"continue",value:function(){var e,t=this.props.data,r=t.ingridients,a=t.totalPrice,n=[],c=Object(S.a)(r);try{for(c.s();!(e=c.n()).done;){var s=e.value;n.push(encodeURIComponent(s.name)+"="+encodeURIComponent(s.quantity))}}catch(o){c.e(o)}finally{c.f()}n.push("price="+a);var i=n.join("&");this.props.history.push({pathname:"/checkout",search:i})}},{key:"render",value:function(){var e=this,t=this.props,r=t.show,a=t.data,n=t.close,c=a.ingridients,s=a.totalPrice,i=null;return r&&(i=Object(g.jsx)("div",{className:A.a.wrapper,ref:this.ref,onClick:function(t){t.target===e.ref.current&&n()},children:Object(g.jsxs)("div",{className:"".concat(A.a.modal),style:{transform:r?"translateY(0)":"translateY(-100vh)"},children:[Object(g.jsx)("header",{className:A.a.header,children:"Check your purchase"}),Object(g.jsxs)("section",{className:A.a.body,children:[Object(g.jsxs)("p",{children:["Total price: ",s.toFixed(2),"$"]}),Object(g.jsx)("ul",{className:A.a.list,children:c.filter((function(e){return 0!==e.quantity})).map((function(e){return Object(g.jsxs)("li",{className:A.a.item,children:[e.name,"-",Object(g.jsx)("span",{children:e.quantity})]})}))})]}),Object(g.jsxs)("footer",{className:A.a.footer,children:[Object(g.jsx)(P,{click:n,styles:"cancel",label:"Cancel"}),Object(g.jsx)(P,{click:this.continue,styles:"continue",label:"Continue"})]})]})})),Object(g.jsx)(g.Fragment,{children:i})}}]),r}(a.Component),q=Object(D.f)(B),W=r(26),F=r.n(W),U={meat:1.5,cheese:.5,salad:.7,bacon:1},R=function(e){Object(b.a)(r,e);var t=Object(j.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).handleAddIngridient=function(e){var t=e.target.parentNode.dataset.name,r=a.state.ingridients.find((function(e){return e.name===t}));if(!a.limitIngridient(r)){r.quantity++,r.disabledRemove=!1;var n=U[r.name];a.setState((function(e){var a=e.ingridients.filter((function(e){return e.name!==t})),c=[].concat(Object(l.a)(a),[r]).sort((function(e,t){return e.order-t.order}));return Object(o.a)(Object(o.a)({},e),{},{totalPrice:e.totalPrice+n,ingridients:c})}))}},a.handleRemoveIngridient=function(e){var t=e.target.parentNode.dataset.name,r=a.state.ingridients.find((function(e){return e.name===t}));r.quantity--;var n=U[r.name];if(r.quantity<1)return r.disabledRemove=!0,void a.setState((function(e){var a=e.ingridients.filter((function(e){return e.name!==t})),c=[].concat(Object(l.a)(a),[r]).sort((function(e,t){return e.order-t.order}));return Object(o.a)(Object(o.a)({},e),{},{totalPrice:e.totalPrice-n,ingridients:c})}));a.setState((function(e){var a=e.ingridients.filter((function(e){return e.name!==t})),c=[].concat(Object(l.a)(a),[r]).sort((function(e,t){return e.order-t.order}));return Object(o.a)(Object(o.a)({},e),{},{totalPrice:e.totalPrice-n,ingridients:c})}))},a.limitIngridient=function(e){return 3===e.quantity&&(e.disabledAdd=!0,a.setState((function(t){var r=t.ingridients.filter((function(t){return t.name!==e.name}));return{ingridients:[].concat(Object(l.a)(r),[e]).sort((function(e,t){return e.order-t.order})),message:"You can't add more than 3 pieces of ".concat(e.name)}})),!0)},a.handleOpenPurchaseModal=function(){a.setState({purchasing:!0})},a.handleClosePurchaseModal=function(){a.setState({purchasing:!1})},a.state={ingridients:[{order:1,name:"salad",quantity:0,disabledAdd:!1,disabledRemove:!0},{order:2,name:"bacon",quantity:0,disabledAdd:!1,disabledRemove:!0},{order:3,name:"cheese",quantity:0,disabledAdd:!1,disabledRemove:!0},{order:4,name:"meat",quantity:0,disabledAdd:!1,disabledRemove:!0}],totalPrice:3,message:"",purchasing:!1},a.ref=n.a.createRef(),a}return Object(u.a)(r,[{key:"componentDidUpdate",value:function(){var e=this;null!==this.ref.current&&setTimeout((function(){e.setState((function(e){var t=e.ingridients.filter((function(e){return e.disabledAdd})).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{disabledAdd:!1})})),r=e.ingridients.filter((function(e){return!e.disabledAdd})),a=[].concat(Object(l.a)(r),Object(l.a)(t)).sort((function(e,t){return e.order-t.order}));return Object(o.a)(Object(o.a)({},e),{},{message:"",ingridients:a})}))}),3e3)}},{key:"render",value:function(){var e=null;return""!==this.state.message&&(e=Object(g.jsx)("p",{ref:this.ref,className:F.a.message,children:this.state.message})),Object(g.jsxs)("div",{className:F.a.lol,children:[e,Object(g.jsx)(q,{show:this.state.purchasing,close:this.handleClosePurchaseModal,data:{ingridients:this.state.ingridients,totalPrice:this.state.totalPrice}}),Object(g.jsx)(v,{ingridients:this.state.ingridients,calculateScroll:!0}),Object(g.jsx)("div",{className:F.a.controlsWrapper,children:Object(g.jsxs)("div",{className:F.a.controlsWrapperInner,children:[Object(g.jsxs)("p",{className:F.a.currentPrice,children:["Current price: ",this.state.totalPrice.toFixed(2),"$"]}),Object(g.jsx)(y,{ingridients:this.state.ingridients,add:this.handleAddIngridient,remove:this.handleRemoveIngridient}),Object(g.jsx)(C,{open:this.handleOpenPurchaseModal})]})})]})}}]),r}(a.Component),L=r(15),M=r(52),H=r.n(M),J=function(){return Object(g.jsx)("div",{className:H.a.myLoader})},Y=r(27),Z=r.n(Y),K=function(e){var t,r=null;switch(e.inputType){case"text":r=Object(g.jsx)("input",{type:"text",placeholder:e.placeholder,name:e.name,className:Z.a.singleInput,value:e.value,onChange:e.onChange,style:{border:""!==e.error?"2px solid red":""}});break;case"email":r=Object(g.jsx)("input",{type:"email",placeholder:e.placeholder,name:e.name,className:Z.a.singleInput,value:e.value,onChange:e.onChange,style:{border:""!==e.error?"2px solid red":""}});break;case"password":r=Object(g.jsx)("input",{type:"password",placeholder:e.placeholder,name:e.name,className:Z.a.singleInput,value:e.value,onChange:e.onChange,style:{border:""!==e.error?"2px solid red":""}});break;case"checkbox":r=Object(g.jsx)("input",(t={type:"checkbox",checked:e.value,className:Z.a.checkbox,placeholder:e.placeholder,name:e.name},Object(L.a)(t,"checked",e.checked),Object(L.a)(t,"onChange",e.onChange),t));break;case"select":r=Object(g.jsx)("select",{value:e.value,className:Z.a.select,name:e.name,onChange:e.onChange,children:e.options.map((function(e,t){return Object(g.jsx)("option",{children:e},t)}))})}return r},z=r(32),X=r.n(z),Q=X.a.create({baseURL:"https://burger-test-project-13170-default-rtdb.firebaseio.com/"}),$=r(16),G=r.n($),V=function(e){Object(b.a)(r,e);var t=Object(j.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).handleSendData=function(e){e.preventDefault();var t=a.state.userData,r=a.props,n=r.ingridients,c=r.totalPrice;if(a.validate(t)){a.setState({loading:!0,valid:!0});var s={ingridients:n||[],totalPrice:c||"",userData:t||{}},i=a.props.history,l=JSON.parse(localStorage.getItem("signData"));Q.post("/orders.json?auth="+l.token,s).then((function(e){a.setState({loading:!1}),i.replace("/orders")})).catch((function(e){console.log(e),a.setState({loading:!1}),i.replace("/orders")}))}else a.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{valid:!1})}))},a.validate=function(e){var t=0,r=e.userName,n=e.city,c=e.street;return a.validateField(r,3,10)?(t++,a.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{errors:Object(o.a)(Object(o.a)({},e.errors),{},{userName:""})})}))):a.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{errors:Object(o.a)(Object(o.a)({},e.errors),{},{userName:"Incorrect name, should contain at least 3 symbols, max 10"})})})),a.validateField(n,5,12)?(t++,a.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{errors:Object(o.a)(Object(o.a)({},e.errors),{},{city:""})})}))):a.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{errors:Object(o.a)(Object(o.a)({},e.errors),{},{city:"Incorrect city input length, min value is 5 max is 12"})})})),a.validateField(c,5,12)?(t++,a.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{errors:Object(o.a)(Object(o.a)({},e.errors),{},{street:""})})}))):a.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{errors:Object(o.a)(Object(o.a)({},e.errors),{},{street:"Incorrect street, min should be 5 symbols, max 12"})})})),3===t},a.handleChange=function(e){"checkbox"!==e.target.type?a.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{userData:Object(o.a)(Object(o.a)({},t.userData),{},Object(L.a)({},e.target.name,e.target.value))})})):a.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{userData:Object(o.a)(Object(o.a)({},t.userData),{},Object(L.a)({},e.target.name,e.target.checked))})}))},a.renderForm=function(){return Object(g.jsxs)("form",{onSubmit:a.handleSendData,className:G.a.forma,children:[Object(g.jsx)("h1",{children:"Contact data"}),Object(g.jsxs)("div",{className:G.a.inputContainer,children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{children:"Name"}),Object(g.jsx)(K,{inputType:"text",name:"userName",value:a.state.userData.name,placeholder:"Enter your name",onChange:a.handleChange,error:a.state.errors.userName})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{children:"City"}),Object(g.jsx)(K,{inputType:"text",placeholder:"Enter your city",name:"city",value:a.state.userData.city,onChange:a.handleChange,error:a.state.errors.city})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{children:"Street"}),Object(g.jsx)(K,{inputType:"text",name:"street",value:a.state.userData.street,placeholder:"Enter your street",onChange:a.handleChange,error:a.state.errors.street})]}),Object(g.jsxs)("div",{className:G.a.wrapper,children:[Object(g.jsx)("label",{className:G.a.label,children:"Contactless delivery"}),Object(g.jsx)(K,{inputType:"checkbox",name:"contactlessDelivery",value:a.state.userData.contactlessDelivery,onChange:a.handleChange})]}),Object(g.jsxs)("div",{className:G.a.marginTop,children:[Object(g.jsx)("label",{className:G.a.label,children:"Payment type"}),Object(g.jsx)(K,{inputType:"select",name:"paymentType",value:a.state.userData.paymentType,onChange:a.handleChange,options:["Cash","Card"]})]})]}),Object(g.jsx)("div",{className:G.a.buttonContainer,children:Object(g.jsx)(P,{label:"Order",styles:["continue","center"],click:a.handleSendData})})]})},a.renderErrors=function(){return Object.values(a.state.errors).filter((function(e){return""!==e})).map((function(e,t){return Object(g.jsx)("div",{className:G.a.error,children:e},t)}))},a.state={loading:!1,userData:{userName:"",city:"",street:"",contactlessDelivery:!1,paymentType:"Cash"},errors:{userName:"",city:"",street:""},valid:!0},a}return Object(u.a)(r,[{key:"validateField",value:function(e,t,r){return!(""===e||e.length<t||e.length>r)}},{key:"render",value:function(){var e=null,t=this.state,r=t.loading,a=t.valid;return e=r?Object(g.jsx)("div",{className:G.a.loaderContainer,children:Object(g.jsx)(J,{})}):this.renderForm(),Object(g.jsxs)("div",{children:[e,!a&&Object(g.jsx)("div",{className:G.a.errorsContainer,children:this.renderErrors()})]})}}]),r}(a.Component),ee=Object(D.f)(V),te=r(33),re=r.n(te),ae=function(e){Object(b.a)(r,e);var t=Object(j.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).cancel=function(){a.props.history.goBack()},a.continue=function(){a.props.history.replace("/checkout/contact-data")},a.state={ingridients:[],noIngridients:!1,totalPrice:""},a}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.location.search;if(""!==e){var t,r=e.slice(1).split("&"),a=[],n="",c=Object(S.a)(r);try{for(c.s();!(t=c.n()).done;){var s=t.value,i={},o=s.split("=");"price"!==o[0]?(i.name=o[0],i.quantity=o[1],a.push(i)):n=o[1]}}catch(l){c.e(l)}finally{c.f()}this.setState({ingridients:a,totalPrice:"".concat(n,"$")})}else this.setState({noIngridients:!0})}},{key:"render",value:function(){var e=this,t=this.state,r=t.ingridients,a=t.noIngridients;return Object(g.jsxs)(n.a.Fragment,{children:[Object(g.jsx)("h1",{className:re.a.header,children:"Checkout Page"}),a&&Object(g.jsxs)("p",{className:re.a.empty,children:["You haven't added any ingridient yet.",Object(g.jsx)("p",{children:"Start adding in burger builder section and then press Order button"})]}),!a&&Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{ingridients:r,calculateScroll:!1}),Object(g.jsxs)("div",{className:re.a.buttons,children:[Object(g.jsx)(P,{click:this.cancel,styles:"cancel",label:"Cancel"}),Object(g.jsx)(P,{click:this.continue,styles:"continue",label:"Continue"})]})]}),Object(g.jsx)(D.a,{path:this.props.match.path+"/contact-data",render:function(){return Object(g.jsx)(ee,{ingridients:r,totalPrice:e.state.totalPrice})}})]})}}]),r}(a.Component),ne=r(9),ce=r.n(ne),se=r(53),ie=function(e){return function(t){Object(b.a)(a,t);var r=Object(j.a)(a);function a(e){var t;return Object(d.a)(this,a),(t=r.call(this,e)).componentDidCatch=function(e,r){le(e,r,Object(I.a)(t))},t.state={error:null,errorInfo:null},t}return Object(u.a)(a,[{key:"render",value:function(){return this.state.errorInfo?oe(this):Object(g.jsx)(e,Object(o.a)({},this.props))}}]),a}(a.Component)},oe=function(e){return Object(g.jsxs)("div",{style:e.props.style||se.classes.error,children:[Object(g.jsx)("h2",{children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430."}),Object(g.jsxs)("details",{style:{whiteSpace:"pre-wrap"},children:[e.state.error&&e.state.error.message,Object(g.jsx)("br",{}),e.state.errorInfo.componentStack]})]})},le=function(e,t,r){r.setState({error:e,errorInfo:t})},de=ie(function(e){Object(b.a)(r,e);var t=Object(j.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).renderOrdres=function(e){return e.map((function(e){var t=e.id,r=e.order,a=r.ingridients,n=r.totalPrice,c=r.userData;return Object(g.jsx)("div",{className:ce.a.order,children:Object(g.jsxs)("div",{className:ce.a.rowContainer,children:[Object(g.jsxs)("div",{className:ce.a.row,children:[Object(g.jsx)("label",{className:ce.a.label,children:"Ingridients"}),a.map((function(e,r){var a=t+r;return Object(g.jsxs)("div",{children:[Object(g.jsxs)("span",{children:[e.name," -"]}),Object(g.jsxs)("span",{children:[" ",e.quantity]})]},a)}))]}),Object(g.jsxs)("div",{className:ce.a.row,children:[Object(g.jsx)("label",{className:ce.a.label,children:"Price:"}),Object(g.jsx)("div",{className:ce.a.price,children:n})]}),Object(g.jsxs)("div",{className:ce.a.row,children:[Object(g.jsx)("label",{className:ce.a.label,children:"User:"}),Object(g.jsx)("div",{className:ce.a.user,children:c.userName})]})]})},t)}))},a.renderError=function(e){return Object(g.jsx)("div",{className:ce.a.error,children:e})},a.renderEmpty=function(){return Object(g.jsx)("div",{className:ce.a.noData,children:"No data"})},a.state={orders:[],loading:!1,error:""},a}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0});var t=JSON.parse(localStorage.getItem("signData"));Q.get("/orders.json?auth="+t.token).then((function(t){var r=t.data,a=[];for(var n in r){var c={};c.id=n,c.order=r[n],a.push(c)}e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{loading:!1,orders:e.orders.concat(a)})}))})).catch((function(t){console.error(t),e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"})}))}))}},{key:"render",value:function(){var e=this.state,t=e.loading,r=e.orders,a=e.error,n=null;return n=t?Object(g.jsx)("div",{className:ce.a.loaderWrapper,children:Object(g.jsx)(J,{})}):0!==a.length?this.renderError(a):0===r.length?this.renderEmpty():this.renderOrdres(r),Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{className:ce.a.header,children:"Orders Page"}),n]})}}]),r}(a.Component)),ue="AIzaSyAVSvuKS5uIglHfIluHK255A87e__oZpNc",be=r(31),je=r.n(be),he="Incorrect Password, shoud contain at least 1 digit, 1 lowercase 1 uppercase and 8 characters",pe="Incorrect email, try again",me=function(e){Object(b.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(d.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={loginData:{email:"",password:""},errors:{emailError:"",passwordError:""},valid:!0,loginError:!1,signUp:!0,signData:{token:"",id:"",expiresIn:"",refreshToken:""}},e.handleChangeInput=function(t){e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{loginData:Object(o.a)(Object(o.a)({},e.loginData),{},Object(L.a)({},t.target.name,t.target.value))})}))},e.validateForm=function(t){var r=t.email,a=t.password,n=e.validateEmail(r),c=e.validatePassword(a);return n&&c?(e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{valid:!0,errors:{emailError:"",passwordError:""}})})),!0):(c||e.setInvalidState("passwordError"),n||e.setInvalidState("emailError"),!1)},e.setInvalidState=function(t){var r="passwordError"===t?he:pe;e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{errors:Object(o.a)(Object(o.a)({},e.errors),{},Object(L.a)({},t,r)),valid:!1})}))},e.validateEmail=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},e.validatePassword=function(e){return/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/.test(e)},e.handleSendForm=function(t){t.preventDefault();var r=e.state,a=r.loginData,n=r.signUp,c=e.props.history,s=e.validateForm(a),i=n?"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat(ue):"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat(ue);if(s){var l=Object(o.a)(Object(o.a)({},a),{},{returnSecureToken:!0});X.a.post(i,l).then((function(t){var r=t.data,a=r.expiresIn,n=r.idToken,s=r.localId,i=r.refreshToken;e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{signData:{token:n,id:s,expiresIn:a,refreshToken:i}})})),localStorage.setItem("signData",JSON.stringify(e.state.signData)),e.props.func(),c.replace("/burger")})).catch((function(t){e.setState({loginError:!0})}))}},e.switchAuth=function(){e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{signUp:!e.signUp})}))},e.renderError=function(){var t=Object.values(e.state.errors);return Object(g.jsx)("div",{className:je.a.error,children:t.map((function(e,t){return Object(g.jsx)("div",{children:e},t+10)}))})},e}return Object(u.a)(r,[{key:"componentDidUpdate",value:function(){var e=this;this.state.loginError&&setTimeout((function(){e.setState({loginError:!1})}),5e3)}},{key:"render",value:function(){var e=this.state,t=e.loginData,r=t.email,a=t.password,n=e.errors,c=n.emailError,s=n.passwordError,i=e.valid,o=e.loginError,l=e.signUp,d=l?"Switch to sign in":"Switch to sign up",u=l?"Sign up":"Sign in";return Object(g.jsxs)("div",{className:je.a.container,children:[!i&&this.renderError(),o&&Object(g.jsx)("div",{className:je.a.loginError,children:"Invalid login (probably server error)"}),Object(g.jsxs)("form",{onSubmit:this.handleSendForm,children:[Object(g.jsx)("h1",{className:je.a.title,children:u}),Object(g.jsx)("div",{children:Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{children:"Email"}),Object(g.jsx)(K,{inputType:"email",name:"email",value:r,placeholder:"Enter your email",onChange:this.handleChangeInput,error:c})]})}),Object(g.jsx)("div",{children:Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{children:"Password"}),Object(g.jsx)(K,{inputType:"password",name:"password",value:a,placeholder:"Enter your password",onChange:this.handleChangeInput,error:s})]})}),Object(g.jsx)(P,{click:this.handleSendForm,label:"SEND",styles:["continue","center"]})]}),Object(g.jsx)(P,{click:this.switchAuth,label:d,styles:["cancel","center","mt-10"]})]})}}]),r}(a.Component),Oe=ie(Object(D.f)(me)),ge=r.p+"static/media/burger-logo.ec69c7f6.png",fe=r(17),ve=r(14),_e=r.n(ve),xe=function(e){Object(b.a)(r,e);var t=Object(j.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).logOut=function(){a.props.setSignedIn(),localStorage.removeItem("signData")},a}return Object(u.a)(r,[{key:"render",value:function(){var e=this.props.signedIn;return Object(g.jsxs)("div",{className:_e.a.toolbarWrapper,children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:ge,className:_e.a.logo})}),Object(g.jsx)("nav",{className:_e.a.toolbar,children:Object(g.jsxs)("ul",{className:_e.a.menu,children:[e&&Object(g.jsx)("li",{className:_e.a.item,children:Object(g.jsx)(fe.b,{to:"/burger",activeClassName:_e.a.navlink,className:_e.a.navLinkDefault,children:"Burger builder"})}),e&&Object(g.jsx)("li",{className:_e.a.item,children:Object(g.jsx)(fe.b,{to:"/orders",activeClassName:_e.a.navlink,children:"Orders"})}),Object(g.jsx)("li",{className:_e.a.item,onClick:this.logOut,children:Object(g.jsx)(fe.b,{to:"/",activeClassName:_e.a.navlink,children:e?"Logout":"Login"})})]})})]})}}]),r}(a.Component);r(84);var ye=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),r=t[0],n=t[1];function c(){n((function(e){return!e}))}return Object(g.jsx)(fe.a,{children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(xe,{signedIn:r,setSignedIn:n}),Object(g.jsxs)(D.c,{children:[Object(g.jsx)(D.a,{path:"/checkout",component:ae}),Object(g.jsx)(D.a,{path:"/orders",component:de}),Object(g.jsx)(D.a,{path:"/burger",component:R}),Object(g.jsx)(D.a,{path:"/",component:function(){return Object(g.jsx)(Oe,{func:c})}})]})]})})},Ne=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,86)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))};s.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(ye,{})}),document.getElementById("root")),Ne()},9:function(e,t,r){e.exports={rowContainer:"orders_rowContainer__2mPy9",row:"orders_row__2cbTc",order:"orders_order__1CFgl",user:"orders_user__3n0uJ",price:"orders_price__3lv3D",label:"orders_label__2mpH5",header:"orders_header__1KeNP",loaderWrapper:"orders_loaderWrapper__1mbUc",error:"orders_error__36eSS",noData:"orders_noData__3KxNB"}}},[[85,1,2]]]);
//# sourceMappingURL=main.05637cec.chunk.js.map